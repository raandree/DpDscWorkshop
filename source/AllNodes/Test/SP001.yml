NodeName: SP001
Environment: Test
Role: SharePointServer2019
Description: SharePoint Server 2019
Location: DataCenterIntranet
ServiceType: WebServerService

PSDscAllowPlainTextPassword: True
PSDscAllowDomainUser: True

Configurations:
  - SharePointManagedAccounts
  - SharePointDiagnosticLoggingSettings
  - SharePointPasswordChangeSettings

FilesAndFolders:
  Items:
    - DestinationPath: E:\Inetpub\wwwroot
      Type: Directory
  DependsOn: '[SharePointFarm]SharePointFarm'

SharePointManagedAccounts:
  ManagedAccounts:
    - AccountName: 123
      Account: '[ENC=PE9ianMgVmVyc2lvbj0iMS4xLjAuMSIgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vcG93ZXJzaGVsbC8yMDA0LzA0Ij4NCiAgPE9iaiBSZWZJZD0iMCI+DQogICAgPFROIFJlZklkPSIwIj4NCiAgICAgIDxUPlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3Q8L1Q+DQogICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgIDwvVE4+DQogICAgPE1TPg0KICAgICAgPE9iaiBOPSJLZXlEYXRhIiBSZWZJZD0iMSI+DQogICAgICAgIDxUTiBSZWZJZD0iMSI+DQogICAgICAgICAgPFQ+U3lzdGVtLk9iamVjdFtdPC9UPg0KICAgICAgICAgIDxUPlN5c3RlbS5BcnJheTwvVD4NCiAgICAgICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgICAgICA8L1ROPg0KICAgICAgICA8TFNUPg0KICAgICAgICAgIDxPYmogUmVmSWQ9IjIiPg0KICAgICAgICAgICAgPFROUmVmIFJlZklkPSIwIiAvPg0KICAgICAgICAgICAgPE1TPg0KICAgICAgICAgICAgICA8UyBOPSJIYXNoIj5EODI0RDUxMDQxRkM0MjM2NjRBQjNDMTg1RUM4QTdCQkM2RkY4RUUwNkI3NDFCQzY0OEY5MkYwRTk2NjQ0RkFDPC9TPg0KICAgICAgICAgICAgICA8STMyIE49Ikl0ZXJhdGlvbkNvdW50Ij41MDAwMDwvSTMyPg0KICAgICAgICAgICAgICA8QkEgTj0iS2V5Ij5QV2tHMVg3czcxNU9uamlTQzNzQ3MzQndYOWRHaS9sWnRwL1plTUo0ZnJCeTJhMlVIQkdPbW5jYlVOMVAzNy84PC9CQT4NCiAgICAgICAgICAgICAgPEJBIE49Ikhhc2hTYWx0Ij5TdTVYZWR5U3BremVwWjV0ZXlJRyswRysveFNIamdtTlVOUHFEcENKODRnPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJTYWx0Ij55TTYyWks3QkNqZXFMeEpWWWVQS3hPUWgvU3hjSVMxRE5udEFWdHZUZlhZPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJJViI+SCtNSk5RWGlmeWJxRnJlMnQxKzg0RmNyVGs5L3FjNFEzZ3Z5dUViTmw2ST08L0JBPg0KICAgICAgICAgICAgPC9NUz4NCiAgICAgICAgICA8L09iaj4NCiAgICAgICAgPC9MU1Q+DQogICAgICA8L09iaj4NCiAgICAgIDxCQSBOPSJDaXBoZXJUZXh0Ij5aRk45a0F0R2Nod1NhK1VhRjU5TU1Qb1FLRDJEamFzSTU3SnNQVm5meDZ3M250czk0NGQvekZNRnM5TDliWWVpSTNTbUVQZTZtaUZ6UlNwWXhWR05MZz09PC9CQT4NCiAgICAgIDxCQSBOPSJITUFDIj5OSzBhTXJ3T01LTjJMcUJ6NE82M3lOS2pwWFpVTmUvLzdOa1FhMHBSajNNPTwvQkE+DQogICAgICA8UyBOPSJUeXBlIj5TeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbDwvUz4NCiAgICA8L01TPg0KICA8L09iaj4NCjwvT2Jqcz4=]'
      Schedule: weekly between sun 03:00:00 and sun 03:30:00
  DependsOn: '[SharePointFarm]SharePointFarm'
  PsDscRunAsCredential: '[ENC=PE9ianMgVmVyc2lvbj0iMS4xLjAuMSIgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vcG93ZXJzaGVsbC8yMDA0LzA0Ij4NCiAgPE9iaiBSZWZJZD0iMCI+DQogICAgPFROIFJlZklkPSIwIj4NCiAgICAgIDxUPlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3Q8L1Q+DQogICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgIDwvVE4+DQogICAgPE1TPg0KICAgICAgPE9iaiBOPSJLZXlEYXRhIiBSZWZJZD0iMSI+DQogICAgICAgIDxUTiBSZWZJZD0iMSI+DQogICAgICAgICAgPFQ+U3lzdGVtLk9iamVjdFtdPC9UPg0KICAgICAgICAgIDxUPlN5c3RlbS5BcnJheTwvVD4NCiAgICAgICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgICAgICA8L1ROPg0KICAgICAgICA8TFNUPg0KICAgICAgICAgIDxPYmogUmVmSWQ9IjIiPg0KICAgICAgICAgICAgPFROUmVmIFJlZklkPSIwIiAvPg0KICAgICAgICAgICAgPE1TPg0KICAgICAgICAgICAgICA8UyBOPSJIYXNoIj5EODI0RDUxMDQxRkM0MjM2NjRBQjNDMTg1RUM4QTdCQkM2RkY4RUUwNkI3NDFCQzY0OEY5MkYwRTk2NjQ0RkFDPC9TPg0KICAgICAgICAgICAgICA8STMyIE49Ikl0ZXJhdGlvbkNvdW50Ij41MDAwMDwvSTMyPg0KICAgICAgICAgICAgICA8QkEgTj0iS2V5Ij5QV2tHMVg3czcxNU9uamlTQzNzQ3MzQndYOWRHaS9sWnRwL1plTUo0ZnJCeTJhMlVIQkdPbW5jYlVOMVAzNy84PC9CQT4NCiAgICAgICAgICAgICAgPEJBIE49Ikhhc2hTYWx0Ij5TdTVYZWR5U3BremVwWjV0ZXlJRyswRysveFNIamdtTlVOUHFEcENKODRnPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJTYWx0Ij55TTYyWks3QkNqZXFMeEpWWWVQS3hPUWgvU3hjSVMxRE5udEFWdHZUZlhZPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJJViI+SCtNSk5RWGlmeWJxRnJlMnQxKzg0RmNyVGs5L3FjNFEzZ3Z5dUViTmw2ST08L0JBPg0KICAgICAgICAgICAgPC9NUz4NCiAgICAgICAgICA8L09iaj4NCiAgICAgICAgPC9MU1Q+DQogICAgICA8L09iaj4NCiAgICAgIDxCQSBOPSJDaXBoZXJUZXh0Ij5aRk45a0F0R2Nod1NhK1VhRjU5TU1Qb1FLRDJEamFzSTU3SnNQVm5meDZ3M250czk0NGQvekZNRnM5TDliWWVpSTNTbUVQZTZtaUZ6UlNwWXhWR05MZz09PC9CQT4NCiAgICAgIDxCQSBOPSJITUFDIj5OSzBhTXJ3T01LTjJMcUJ6NE82M3lOS2pwWFpVTmUvLzdOa1FhMHBSajNNPTwvQkE+DQogICAgICA8UyBOPSJUeXBlIj5TeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbDwvUz4NCiAgICA8L01TPg0KICA8L09iaj4NCjwvT2Jqcz4=]'

SharePointDiagnosticLoggingSettings:
  SetupAccount: '[ENC=PE9ianMgVmVyc2lvbj0iMS4xLjAuMSIgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vcG93ZXJzaGVsbC8yMDA0LzA0Ij4NCiAgPE9iaiBSZWZJZD0iMCI+DQogICAgPFROIFJlZklkPSIwIj4NCiAgICAgIDxUPlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3Q8L1Q+DQogICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgIDwvVE4+DQogICAgPE1TPg0KICAgICAgPE9iaiBOPSJLZXlEYXRhIiBSZWZJZD0iMSI+DQogICAgICAgIDxUTiBSZWZJZD0iMSI+DQogICAgICAgICAgPFQ+U3lzdGVtLk9iamVjdFtdPC9UPg0KICAgICAgICAgIDxUPlN5c3RlbS5BcnJheTwvVD4NCiAgICAgICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgICAgICA8L1ROPg0KICAgICAgICA8TFNUPg0KICAgICAgICAgIDxPYmogUmVmSWQ9IjIiPg0KICAgICAgICAgICAgPFROUmVmIFJlZklkPSIwIiAvPg0KICAgICAgICAgICAgPE1TPg0KICAgICAgICAgICAgICA8UyBOPSJIYXNoIj5EODI0RDUxMDQxRkM0MjM2NjRBQjNDMTg1RUM4QTdCQkM2RkY4RUUwNkI3NDFCQzY0OEY5MkYwRTk2NjQ0RkFDPC9TPg0KICAgICAgICAgICAgICA8STMyIE49Ikl0ZXJhdGlvbkNvdW50Ij41MDAwMDwvSTMyPg0KICAgICAgICAgICAgICA8QkEgTj0iS2V5Ij5QV2tHMVg3czcxNU9uamlTQzNzQ3MzQndYOWRHaS9sWnRwL1plTUo0ZnJCeTJhMlVIQkdPbW5jYlVOMVAzNy84PC9CQT4NCiAgICAgICAgICAgICAgPEJBIE49Ikhhc2hTYWx0Ij5TdTVYZWR5U3BremVwWjV0ZXlJRyswRysveFNIamdtTlVOUHFEcENKODRnPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJTYWx0Ij55TTYyWks3QkNqZXFMeEpWWWVQS3hPUWgvU3hjSVMxRE5udEFWdHZUZlhZPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJJViI+SCtNSk5RWGlmeWJxRnJlMnQxKzg0RmNyVGs5L3FjNFEzZ3Z5dUViTmw2ST08L0JBPg0KICAgICAgICAgICAgPC9NUz4NCiAgICAgICAgICA8L09iaj4NCiAgICAgICAgPC9MU1Q+DQogICAgICA8L09iaj4NCiAgICAgIDxCQSBOPSJDaXBoZXJUZXh0Ij5aRk45a0F0R2Nod1NhK1VhRjU5TU1Qb1FLRDJEamFzSTU3SnNQVm5meDZ3M250czk0NGQvekZNRnM5TDliWWVpSTNTbUVQZTZtaUZ6UlNwWXhWR05MZz09PC9CQT4NCiAgICAgIDxCQSBOPSJITUFDIj5OSzBhTXJ3T01LTjJMcUJ6NE82M3lOS2pwWFpVTmUvLzdOa1FhMHBSajNNPTwvQkE+DQogICAgICA8UyBOPSJUeXBlIj5TeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbDwvUz4NCiAgICA8L01TPg0KICA8L09iaj4NCjwvT2Jqcz4=]'
  LogPath: 'G:\Logs\SharePoint\LOGS'
  LogSpaceInGB: 20
  AppAnalyticsAutomaticUploadEnabled: false
  CustomerExperienceImprovementProgramEnabled: false
  DaysToKeepLogs: 7
  DownloadErrorReportingUpdatesEnabled: false
  ErrorReportingAutomaticUploadEnabled: false
  ErrorReportingEnabled: false
  EventLogFloodProtectionEnabled: true
  EventLogFloodProtectionNotifyInterval: 5
  EventLogFloodProtectionQuietPeriod: 2
  EventLogFloodProtectionThreshold: 5
  EventLogFloodProtectionTriggerPeriod: 2
  LogCutInterval: 15
  LogMaxDiskSpaceUsageEnabled: true
  ScriptErrorReportingDelay: 30
  ScriptErrorReportingEnabled: true
  ScriptErrorReportingRequireAuth: true
  DependsOn: '[SharePointFarm]SharePointFarm'
SharePointPasswordChangeSettings:
  MailAddress: web-services@dataport.de
  DependsOn: '[SharePointFarm]SharePointFarm'
  PsDscRunAsCredential: "[ENC=PE9ianMgVmVyc2lvbj0iMS4xLjAuMSIgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vcG93ZXJzaGVsbC8yMDA0LzA0Ij4NCiAgPE9iaiBSZWZJZD0iMCI+DQogICAgPFROIFJlZklkPSIwIj4NCiAgICAgIDxUPlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3Q8L1Q+DQogICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgIDwvVE4+DQogICAgPE1TPg0KICAgICAgPE9iaiBOPSJLZXlEYXRhIiBSZWZJZD0iMSI+DQogICAgICAgIDxUTiBSZWZJZD0iMSI+DQogICAgICAgICAgPFQ+U3lzdGVtLk9iamVjdFtdPC9UPg0KICAgICAgICAgIDxUPlN5c3RlbS5BcnJheTwvVD4NCiAgICAgICAgICA8VD5TeXN0ZW0uT2JqZWN0PC9UPg0KICAgICAgICA8L1ROPg0KICAgICAgICA8TFNUPg0KICAgICAgICAgIDxPYmogUmVmSWQ9IjIiPg0KICAgICAgICAgICAgPFROUmVmIFJlZklkPSIwIiAvPg0KICAgICAgICAgICAgPE1TPg0KICAgICAgICAgICAgICA8UyBOPSJIYXNoIj5EODI0RDUxMDQxRkM0MjM2NjRBQjNDMTg1RUM4QTdCQkM2RkY4RUUwNkI3NDFCQzY0OEY5MkYwRTk2NjQ0RkFDPC9TPg0KICAgICAgICAgICAgICA8STMyIE49Ikl0ZXJhdGlvbkNvdW50Ij41MDAwMDwvSTMyPg0KICAgICAgICAgICAgICA8QkEgTj0iS2V5Ij5QV2tHMVg3czcxNU9uamlTQzNzQ3MzQndYOWRHaS9sWnRwL1plTUo0ZnJCeTJhMlVIQkdPbW5jYlVOMVAzNy84PC9CQT4NCiAgICAgICAgICAgICAgPEJBIE49Ikhhc2hTYWx0Ij5TdTVYZWR5U3BremVwWjV0ZXlJRyswRysveFNIamdtTlVOUHFEcENKODRnPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJTYWx0Ij55TTYyWks3QkNqZXFMeEpWWWVQS3hPUWgvU3hjSVMxRE5udEFWdHZUZlhZPTwvQkE+DQogICAgICAgICAgICAgIDxCQSBOPSJJViI+SCtNSk5RWGlmeWJxRnJlMnQxKzg0RmNyVGs5L3FjNFEzZ3Z5dUViTmw2ST08L0JBPg0KICAgICAgICAgICAgPC9NUz4NCiAgICAgICAgICA8L09iaj4NCiAgICAgICAgPC9MU1Q+DQogICAgICA8L09iaj4NCiAgICAgIDxCQSBOPSJDaXBoZXJUZXh0Ij5aRk45a0F0R2Nod1NhK1VhRjU5TU1Qb1FLRDJEamFzSTU3SnNQVm5meDZ3M250czk0NGQvekZNRnM5TDliWWVpSTNTbUVQZTZtaUZ6UlNwWXhWR05MZz09PC9CQT4NCiAgICAgIDxCQSBOPSJITUFDIj5OSzBhTXJ3T01LTjJMcUJ6NE82M3lOS2pwWFpVTmUvLzdOa1FhMHBSajNNPTwvQkE+DQogICAgICA8UyBOPSJUeXBlIj5TeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbDwvUz4NCiAgICA8L01TPg0KICA8L09iaj4NCjwvT2Jqcz4=]"

LcmConfig:
  ConfigurationRepositoryWeb:
    Server:
      ConfigurationNames: '[x= { $Node.NodeName } =]'

DscTagging:
  Layers:
    - '[x= { Get-RelativeFileName -Path $File } =]'
